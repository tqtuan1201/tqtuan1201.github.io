<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme="light"
  class="html"
><head>
  <title>
    
      Tuan Truong
        |
        How to Update Current Cocoapod Lib to Support SwiftPM


      


    
  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.119.0"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Tuan Truong" />
  <meta
    name="description"
    content="
      “The only thing that is constant is change”, Heraclitus.


    "
  />
  
    <meta name="google-site-verification" content="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789" />
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.96ada9109c76570a48abadb1799220bb70919f1bc785eaac1c0152d6055421ce.css"
      integrity="sha256-lq2pEJx2VwpIq62xeZIgu3CRnxvHheqsHAFS1gVUIc4="
      crossorigin="anonymous"
      type="text/css"
    />

  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.322f7815beb50e8cf61e202b1aa88261e079a6ab195e36ab0b4cdd7790ef98e2.css"
    integrity="sha256-Mi94Fb61Doz2HiArGqiCYeB5pqsZXjarC0zdd5DvmOI="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.69685904d5c2a0c6258d03c207b778c10466edf6cea928cc0164c376b0ad0930.css"
    integrity="sha256-aWhZBNXCoMYljQPCB7d4wQRm7fbOqSjMAWTDdrCtCTA="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.6d585e78d28cce1200d39fb133c92ed83df01738da721d0f48fb6eac62d24e04.css"
    integrity="sha256-bVheeNKMzhIA05&#43;xM8ku2D3wFzjach0PSPturGLSTgQ="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.6b00d96498d59caa0dbcf9b49d30d821915291f2ceb0e19248523c8607ff43fa.css"
    integrity="sha256-awDZZJjVnKoNvPm0nTDYIZFSkfLOsOGSSFI8hgf/Q/o="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/images/profile.jpg" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" />

  <link rel="canonical" href="https://tqtuan1201.github.io/posts/how-to-update-cocoapod-lib-to-support-swiftpm/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.738c0e3a493854876aeab9e2316fd43f1936aeeac4cc6b3e60bb26456dba72ad.js"
      integrity="sha256-c4wOOkk4VIdq6rniMW/UPxk2rurEzGs&#43;YLsmRW26cq0="
      crossorigin="anonymous"
    ></script>

  

  


  
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://tqtuan1201.github.io/images/profile.jpg"/>

<meta name="twitter:title" content="How to Update Current Cocoapod Lib to Support SwiftPM"/>
<meta name="twitter:description" content="Abstract Today we will discuss how to update the cocoapod library to support SwiftPM. Last week, I updated my TTBaseUIkit library to support Swift Package Manager. So I want to share some useful experience with you.
What is Swift Package Manager? First, if you don&rsquo;t know about Swift Package Manager. I thought you read swiftpm-post to understand about this package.
The Swift Package Manager is a tool for managing the distribution of Swift code."/>
<meta name="twitter:site" content="@QuangTuan0409"/>



  
  <meta property="og:title" content="How to Update Current Cocoapod Lib to Support SwiftPM" />
<meta property="og:description" content="Abstract Today we will discuss how to update the cocoapod library to support SwiftPM. Last week, I updated my TTBaseUIkit library to support Swift Package Manager. So I want to share some useful experience with you.
What is Swift Package Manager? First, if you don&rsquo;t know about Swift Package Manager. I thought you read swiftpm-post to understand about this package.
The Swift Package Manager is a tool for managing the distribution of Swift code." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tqtuan1201.github.io/posts/how-to-update-cocoapod-lib-to-support-swiftpm/" /><meta property="og:image" content="https://tqtuan1201.github.io/images/profile.jpg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-24T11:10:07+07:00" />
<meta property="article:modified_time" content="2022-08-24T11:10:07+07:00" /><meta property="og:site_name" content="Hi, I&#39;m Tuan Truong" />
<meta property="og:see_also" content="https://tqtuan1201.github.io/posts/cocoapods-with-swiftpm/" /><meta property="og:see_also" content="https://tqtuan1201.github.io/posts/ttbaseuikit-ui-framework/" />
<meta property="og:see_also" content="https://tqtuan1201.github.io/posts/cocoapods-with-swiftpm/" /><meta property="og:see_also" content="https://tqtuan1201.github.io/posts/nlp-on-ios-application-viper-arch/" /><meta property="og:see_also" content="https://tqtuan1201.github.io/posts/basic-ci-cd-gitlab-fastlane/" /><meta property="og:see_also" content="https://tqtuan1201.github.io/posts/my-first-post/" />




  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "posts",
        "name": "How to Update Current Cocoapod Lib to Support SwiftPM",
        "headline": "How to Update Current Cocoapod Lib to Support SwiftPM",
        "alternativeHeadline": "",
        "description": "
      
        Abstract Today we will discuss how to update the cocoapod library to support SwiftPM. Last week, I updated my TTBaseUIkit library to support Swift Package Manager. So I want to share some useful experience with you.\nWhat is Swift Package Manager? First, if you don\u0026rsquo;t know about Swift Package Manager. I thought you read swiftpm-post to understand about this package.\nThe Swift Package Manager is a tool for managing the distribution of Swift code.


      


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/tqtuan1201.github.io\/posts\/how-to-update-cocoapod-lib-to-support-swiftpm\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Tuan Truong"
        },
        "creator" : {
            "@type": "Person",
            "name": "Tuan Truong"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Tuan Truong"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Tuan Truong"
        },
        "copyrightYear" : "2022",
        "dateCreated": "2022-08-24T11:10:07.00Z",
        "datePublished": "2022-08-24T11:10:07.00Z",
        "dateModified": "2022-08-24T11:10:07.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Tuan Truong",
            "url": "https://tqtuan1201.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/tqtuan1201.github.io\/images\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
        
        "https://tqtuan1201.github.io/images/profile.jpg"


      
      ]

    ,
        "url" : "https:\/\/tqtuan1201.github.io\/posts\/how-to-update-cocoapod-lib-to-support-swiftpm\/",
        "wordCount" : "877",
        "genre" : [ 
      
      "Frameworks and APIs"

    
      
        ,

      
      "Dev Journey"

    
      
        ,

      
      "TTBaseUIKit"

    ],
        "keywords" : [ 
      
      "Swift"

    
      
        ,

      
      "SwiftPM"

    
      
        ,

      
      "TTBaseUIKit"

    
      
        ,

      
      "dependency managers"

    
      
        ,

      
      "CocoaPods"

    ]
    }
  </script>



</head>
<body
    
      class="body theme--light"

    
  >
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"

        
      ><div
  class="sidebar
    animated fadeInDown

  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <a href="/about">
        <img
          class="sidebar__introduction-profileimage"
          src="/images/profile.jpg"
          alt="profile picture"
        />
      </a>
      
        <div class="sidebar__introduction-title">
          <a href="/">Hi, I&#39;m Tuan Truong</a>
        </div>

      
      <div class="sidebar__introduction-description">
        <p>“The only thing that is constant is change”, Heraclitus.</p>
        </br>
        <div class="sidebar__introduction-description">
          <i style="color:#454545; font-weight: 360; font-size: 0.92em;">'If you have a great idea but don’t know how to start? Don't worry, simply click on <a href="/posts/job/cv/ourteam"><strong>Meet My Team</strong></a> and we can discuss your project over a cup of coffee'</i>
        </div>
        </br></br>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a href="https://www.linkedin.com/in/thales-truong" rel="me" aria-label="Linkedin" title="Linkedin">
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a href="https://github.com/tqtuan1201" rel="me" aria-label="GitHub" title="GitHub">
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a href="mailto:truongquangtuanit@gmail.com" rel="me" aria-label="e-mail" title="e-mail">
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a href="https://twitter.com/QuangTuan0409" rel="me" aria-label="Twitter" title="Twitter">
            <i class="fab fa-twitter fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a href="https://tuananhstory.com/" rel="me" aria-label="instagram" title="instagram">
            <i class="fa-brands fa-safari fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
    </br></br>
    <div class="sidebar__list">
      <a href="/buymeacoffee">
          <img src="/images/buymeacoffee_button.png" height=40; alt="By me a coffee ^^">
      </a>
    </div>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Tuan Truong
        2024


      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script></div>
</aside>
      <main
        
          class="wrapper__main"

        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/keynote"
              
              title=""
              >Topics</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/posts"
              
              title=""
              >Posts</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/portfolio"
              
              title=""
              >Projects</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/certifications"
              
              title=""
              >Certifications</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/series"
              
              title=""
              >Series</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/categories"
              
              title=""
              >Categories</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/categories/notes/"
              
              title=""
              >Notes</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/tags"
              
              title=""
              >Tags</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/about"
              
              title=""
              >About</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            
            <a
              
              href="/contact"
              
              title=""
              >Contact</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      <li class="nav__list-item">
        <div class="dropdown">
          <button> RESUMES </button>
          <div class="dropdown-content">
          <a href="/posts/job/cv/myresume">My CV</a>
          <a href="/posts/job/cv/ourteam">My Team</a>
          </div>
        </div>
      </li>
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>
      
    </ul>
  </nav>
</div>

<style>
 
.dropdown {
  display: inline-block;
  position: relative;
  padding-right: 10px;
  padding-left: 4px;
}
.dropdown-content {
  display: none;
  position: absolute;
  width: 100%;
  overflow: auto;
  box-shadow: 0px 10px 10px 0px rgba(0,0,0,0.4);
}
.dropdown:hover .dropdown-content {
  background-color: #FFFFFF;
  display: block;
  border-radius: 2px;
}
.dropdown-content a {
  display: block;
  color: #000000;
  padding: 5px;
  text-decoration: none;
}
.dropdown-content a:hover {
  color: #FFFFFF;
  background-color: #686868;
}
</style>
</header>
  <div
    class="post 
      animated fadeInDown

    "
  >
    
      <div class="post__thumbnail-wrapper">
        <img class="post__thumbnail" src="/images/image-20220825131543200.png?quality=92&amp;strip=all" alt="Thumbnail image" />
      </div>

    

    <div class="post__content">
      <h1>How to Update Current Cocoapod Lib to Support SwiftPM</h1>
      <h3>Table of Contents</h3>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#abstract">Abstract</a></li>
    <li><a href="#what-is-swift-package-manager">What is Swift Package Manager?</a></li>
    <li><a href="#setup">Setup</a>
      <ul>
        <li><a href="#current-cocoapod-structure">Current cocoapod structure</a></li>
        <li><a href="#initial-swiftpm">Initial SwiftPM</a>
          <ul>
            <li><a href="#step1-create-new-swiftpm">Step1: Create new SwiftPM</a></li>
            <li><a href="#step2-configure-our-swift-package">Step2: Configure our Swift Package</a></li>
            <li><a href="#step-3-commit">Step 3: Commit</a></li>
          </ul>
        </li>
        <li><a href="#demo">Demo</a></li>
      </ul>
    </li>
    <li><a href="#problems">Problems</a>
      <ul>
        <li><a href="#no-such-module-packagedescription">No such module &ldquo;PackageDescription&rdquo;</a></li>
        <li><a href="#podspec-error---source_files-pattern-did-not-match-any-file">.podspec error - source_files` pattern did not match any file</a></li>
        <li><a href="#the-spec-did-not-pass-validation-due-to-1-error">The spec did not pass validation, due to 1 error</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
        <div style="width: 100%; margin: 0 auto; background:rgba(0,0,0,0.5); height: 1px; opacity: 0.6"> </div><h1 id="abstract">Abstract</h1>
<p>Today we will discuss how to update the cocoapod library to support <code>SwiftPM</code>. Last week, I updated my TTBaseUIkit library to support Swift Package Manager. So I want to share some useful experience with you.</p>
<h1 id="what-is-swift-package-manager">What is Swift Package Manager?</h1>
<p>First, if you don&rsquo;t know about Swift Package Manager. I thought you read <a href="http://localhost:1313/posts/cocoapods-with-swiftpm/">swiftpm-post</a> to understand about this package.</p>
<blockquote>
<p>The Swift Package Manager is a tool for <strong>managing the distribution of Swift code</strong>. It’s integrated with the Swift build system to automate the process of downloading, compiling, and linking dependencies.</p>
</blockquote>
<h1 id="setup">Setup</h1>
<h2 id="current-cocoapod-structure">Current cocoapod structure</h2>
<figure class="small"><img src="/images/image-20220826164934214.png"
         alt="image"/><figcaption>
            <p>TTBaseUIKit Cocoapod Structure</p>
        </figcaption>
</figure>

<p>Before updating the library, we should review our structure. Currently all source code locate in the root folder of cocoapods project <code>TTBaseUIKit</code>. We need to pay attention to the following two parts:</p>
<ol>
<li>
<p>The path of files in project: <code>source_files</code>, <code>exclude_files</code>,  <code>resource_bundle</code>.</p>
</li>
<li>
<p>Understanding configuration in <code>TTBaseUIKit.podspec</code></p>
</li>
</ol>
<h2 id="initial-swiftpm">Initial SwiftPM</h2>
<h3 id="step1-create-new-swiftpm">Step1: Create new SwiftPM</h3>
<p>In the root folder of our library. From <code>Xcode</code> and select File &gt; New &gt; Swift Package</p>
<p>After successfully, Xcode generates all necessary files and folders as it creates a Swift package:</p>
<ol>
<li>The <code>Package.swift</code> file, or <em>package manifest</em>,</li>
<li>Source files reside in a folder named <code>Sources</code> and are scoped per <a href="https://developer.apple.com/documentation/PackageDescription/Target"><code>Target</code></a>.</li>
<li>Unit test targets reside in a folder named <code>Tests</code></li>
</ol>
<figure class="small"><img src="/images/image-20220826171103564.png"
         alt="image"/><figcaption>
            <p>TTBaseUIKit SwiftPM Structure</p>
        </figcaption>
</figure>

<h3 id="step2-configure-our-swift-package">Step2: Configure our Swift Package</h3>
<ol>
<li>
<p>Firstly, we need to move <code>all old code</code> into the new <code>Sources</code> folder, like this:</p>
<figure class="medium"><img src="/images/image-20220826171929799.png"
            alt="image"/><figcaption>
               <p>Move all source code</p>
           </figcaption>
   </figure>

</li>
<li>
<p>Secondly, update Config Cocoapod. We need to update the config for Cocoapod to work correctly.</p>
<p>We need to update the path in the <code>.podspec</code>. In my project the files updated: <code>source_files</code>, <code>exclude_files</code>,  <code>resource_bundle</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">s.source_files = &#34;Sources/TTBaseUIKit/**/*.{swift}&#34;
</span></span><span class="line"><span class="cl">s.exclude_files = &#34;Sources/TTBaseUIKit/**/*.plist&#34;
</span></span><span class="line"><span class="cl">s.resource_bundle = { &#39;TTBaseUIKit&#39; =&gt; [&#39;Sources/TTBaseUIKit/**/*.{ttf}&#39;,&#39;Sources/TTBaseUIKit/**/*.{png}&#39;] }
</span></span></code></pre></div></li>
<li>
<p>And finally, update Config Package.swift</p>
<p>The <code>Package.swift</code> file is a human-readable configuration file that is used by SwiftPM to build your library. It contains various properties that define your package. This file is created in the root folder of your project during initialization.
The <code>Package.swift</code> file for my project looks like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// swift-tools-version: 5.6
</span></span></span><span class="line"><span class="cl"><span class="c1">// The swift-tools-version declares the minimum version of Swift required to build this package.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nx">PackageDescription</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">let</span> <span class="kn">package</span> <span class="p">=</span> <span class="nf">Package</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="p">:</span> <span class="s">&#34;TTBaseUIKit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">platforms</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="nf">iOS</span><span class="p">(.</span><span class="nx">v10</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="nf">macCatalyst</span><span class="p">(.</span><span class="nx">v13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">products</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Products define the executables and libraries a package produces, and make them visible to other packages.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">.</span><span class="nf">library</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="p">:</span> <span class="s">&#34;TTBaseUIKit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">targets</span><span class="p">:</span> <span class="p">[</span><span class="s">&#34;TTBaseUIKit&#34;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dependencies</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Dependencies declare other packages that this package depends on.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// .package(url: /* package url */, from: &#34;1.0.0&#34;),
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">targets</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Targets are the basic building blocks of a package. A target can define a module or a test suite.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// Targets can depend on other targets in this package, and on products in packages this package depends on.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">.</span><span class="nf">target</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="p">:</span> <span class="s">&#34;TTBaseUIKit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">dependencies</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nx">exclude</span><span class="p">:</span> <span class="p">[</span><span class="s">&#34;Info.plist&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="nx">resources</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nf">process</span><span class="p">(</span><span class="s">&#34;Support/Resources/Fonts&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nf">process</span><span class="p">(</span><span class="s">&#34;Support/Resources/Images&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="nf">testTarget</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="p">:</span> <span class="s">&#34;TTBaseUIKitTests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="s">&#34;TTBaseUIKit&#34;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">swiftLanguageVersions</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="nx">v5</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p>For more information about config, please go to the apple doc: <a href="https://developer.apple.com/documentation/xcode/creating-a-standalone-swift-package-with-xcode">https://developer.apple.com/documentation/xcode/creating-a-standalone-swift-package-with-xcode</a>. Please note that:</p>
<ol>
<li>
<p>If you use <code>resources</code>, please add in config file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">        resources: [
</span></span><span class="line"><span class="cl">            .process(&#34;Support/Resources/Fonts&#34;),
</span></span><span class="line"><span class="cl">            .process(&#34;Support/Resources/Images&#34;),
</span></span><span class="line"><span class="cl">        ]
</span></span></code></pre></div></li>
<li>
<p>Please add <code>exclude</code> file <code>.Plist</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> exclude: [&#34;Info.plist&#34;],
</span></span></code></pre></div></li>
</ol>
</li>
</ol>
<h3 id="step-3-commit">Step 3: Commit</h3>
<p>After setting up the project, the only thing that is left is to commit the changes, add a tag and push the changes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">git commit -m &#39;Add support for SwiftPM&#39;
</span></span><span class="line"><span class="cl">git push
</span></span><span class="line"><span class="cl">git tag 1.5.0
</span></span><span class="line"><span class="cl">git push origin 1.5.0
</span></span></code></pre></div><p>Update the cocoapod</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pod lib lint --allow-warnings --verbose
</span></span><span class="line"><span class="cl">pod trunk push --allow-warnings --verbose
</span></span></code></pre></div><p>You will get an email if everything is OK, and now our library supports both CocoaPods and SwiftPM.</p>
<figure class="medium"><img src="/images/image-20220826174208354.png"
         alt="image"/><figcaption>
            <p>Now our library support both cocoapods and SwiftPM</p>
        </figcaption>
</figure>

<h2 id="demo">Demo</h2>
<p>In my project (<a href="https://12bay.vn/">12bay</a>). I used <code>SwiftPM</code> instead of <code>cocoapods</code></p>
<figure class="big"><img src="/images/image-20220829134503917.png"
         alt="image"/><figcaption>
            <p>12Bay integrated SwiftPM</p>
        </figcaption>
</figure>

<h1 id="problems">Problems</h1>
<p>Here are some problems you may encounter when update:</p>
<h2 id="no-such-module-packagedescription">No such module &ldquo;PackageDescription&rdquo;</h2>
<ol>
<li>
<p>Check the first line of the Package.swift file has</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// swift-tools-version: 5.6
</span></span><span class="line"><span class="cl">// The swift-tools-version declares the minimum version of Swift required to build this package
</span></span></code></pre></div></li>
<li>
<p>Don&rsquo;t use <code>swift package generate-xcodeproj</code>. Because this code  is deprecated. You should using Xcode to create Swift Packages <strong>directly</strong></p>
</li>
</ol>
<h2 id="podspec-error---source_files-pattern-did-not-match-any-file">.podspec error - source_files` pattern did not match any file</h2>
<p>When you run <code>pod trunk push --allow-warnings --verbose</code>. This script will clone your code from github. So, make sure your tag version is TRUE and after that you need to check the files.</p>
<p>Full info you can check here: <a href="https://guides.cocoapods.org/making/specs-and-specs-repo.html">https://guides.cocoapods.org/making/specs-and-specs-repo.html</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  s.source_files = &#34;Sources/TTBaseUIKit/**/*.{swift}&#34;
</span></span><span class="line"><span class="cl">  s.exclude_files = &#34;Sources/TTBaseUIKit/**/*.plist&#34;
</span></span><span class="line"><span class="cl">  s.resource_bundle = { &#39;TTBaseUIKit&#39; =&gt; [&#39;Sources/TTBaseUIKit/**/*.{ttf}&#39;,&#39;Sources/TTBaseUIKit/**/*.{png}&#39;] }
</span></span></code></pre></div><p>May be you should clear the cache <code>pod cache clean YourPodKit</code></p>
<h2 id="the-spec-did-not-pass-validation-due-to-1-error">The spec did not pass validation, due to 1 error</h2>
<p>First, we find the root of the problem. Add <code>--verbose</code> to view more detail. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pod lib lint --allow-warnings --verbose
</span></span><span class="line"><span class="cl">or
</span></span><span class="line"><span class="cl">pod trunk push --allow-warnings --verbose
</span></span></code></pre></div><p>If you use <code>Bundle.module.url</code>. Add code below to solve problem:  <code> #if SWIFT_PACKAGE</code>. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">#if SWIFT_PACKAGE
</span></span><span class="line"><span class="cl">		if let urlPackage =  Bundle.module.url(forResource: name, withExtension: &#34;ttf&#34;) {
</span></span><span class="line"><span class="cl">			TTBaseFunc.shared.printLog(object: &#34;::Fonts podFont applied by urlPackage Bundle.module.url&#34;)
</span></span><span class="line"><span class="cl">		}
</span></span><span class="line"><span class="cl">#endif
</span></span></code></pre></div><h1 id="conclusion">Conclusion</h1>
<p>Well done. We learned how to update the current cocoapod library to support SwiftPM. You can find my library at: <a href="https://github.com/tqtuan1201/TTBaseUIKit">https://github.com/tqtuan1201/TTBaseUIKit</a>. Today, I just added my library to the <a href="https://swiftpackageindex.com/tqtuan1201/TTBaseUIKit">Swift Package Index</a> and thank for your reading this post. Swift Package Manager will soon replace CocoaPods for loading third-party libraries into your project. Also, let me know if you have any comments or problems. Thank you!</p>



<h3>Posts in this Series</h3>
<ul>
  
    <li><a href="/posts/how-to-update-cocoapod-lib-to-support-swiftpm/">How to Update Current Cocoapod Lib to Support SwiftPM</a></li>

  
    <li><a href="/posts/cocoapods-with-swiftpm/">Swift Package Manager (SwiftPM) vs Cocoapods</a></li>

  
    <li><a href="/posts/ttbaseuikit-ui-framework/">TTBaseUIKit - Framework to Build UI Programmatically</a></li>

  
    <li><a href="/posts/nlp-on-ios-application-viper-arch/">Natural Language Processing on Ios Application Implement Viper Clean Architecture in an Ios App</a></li>

  
    <li><a href="/posts/basic-ci-cd-gitlab-fastlane/">Basic Ci Cd Gitlab Fastlane</a></li>

  
    <li><a href="/posts/my-first-post/">The VIPER Architecture</a></li>

  
</ul>

<div class="contact-form">
  <form class="form-style" method="POST" action="https://formspree.io/f/mqknvogq" data-toggle="validator">
    <ul>
      <li>
        <label for="username">Name</label>
        <input class="field-style field-full" type="text" name="username" id="username" placeholder="Name" required>
      </li>
      <li>
        <label for="email">Email</label>
        <input class="field-style field-full" type="email" id="email" name="email" placeholder="Email" required>
      </li>
      <li>
        <label for="message">Message</label>
        <textarea class="field-style" name="message" id="message" rows="6" placeholder="Message"></textarea>
      </li>
      <li>
        <input class="field-style" type="submit" value="Send" />
      </li>
      <li>
        <input type="text" name="_gotcha" style="display:none" />
      </li>
    </ul>
  </form>
</div>
</div>
    <div class="post__footer">
      
        <span><a class="category" href="/categories/frameworks-and-apis/">Frameworks and APIs</a><a class="category" href="/categories/dev-journey/">Dev Journey</a><a class="category" href="/categories/ttbaseuikit/">TTBaseUIKit</a></span>




      

      
        <span><a class="tag" href="/tags/swift/">Swift</a><a class="tag" href="/tags/swiftpm/">SwiftPM</a><a class="tag" href="/tags/ttbaseuikit/">TTBaseUIKit</a><a class="tag" href="/tags/dependency-managers/">dependency managers</a><a class="tag" href="/tags/cocoapods/">CocoaPods</a></span>




      
    </div>

    
  </div>


      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Tuan Truong
        2024


      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script>
  <script async defer src=" https://scripts.simpleanalyticscdn.com/latest.js"></script>
  <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt="" /></noscript>


</body>
</html>
